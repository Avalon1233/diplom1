!function(){"use strict";var e,t={1365:function(e,t,a){var n=a(6540),l=a(5338),r=()=>{const[e,t]=(0,n.useState)("BTC-USD"),[a,l]=(0,n.useState)("1h"),[r,c]=(0,n.useState)(null),[m,s]=(0,n.useState)(!0),[i,o]=(0,n.useState)(null);(0,n.useEffect)(()=>{const e=window.location.pathname.split("/"),a=e[e.length-1];a&&"chart"!==a&&t(a),d()},[e,a]);const d=async()=>{try{s(!0);const t=await fetch(`/api/realtime_prices?symbol=${e}`),a=await t.json();if(a.error)throw new Error(a.error);c(a),o(null)}catch(e){console.error("Error loading chart data:",e),o("Ошибка загрузки данных графика")}finally{s(!1)}};return i?n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"alert alert-danger",role:"alert"},n.createElement("i",{className:"bi bi-exclamation-triangle me-2"}),i,n.createElement("button",{className:"btn btn-outline-danger btn-sm ms-3",onClick:d},n.createElement("i",{className:"bi bi-arrow-clockwise me-1"}),"Повторить"))):n.createElement("div",{className:"container-fluid"},n.createElement("div",{className:"row mb-4"},n.createElement("div",{className:"col-12"},n.createElement("div",{className:"d-flex justify-content-between align-items-center"},n.createElement("div",null,n.createElement("h1",{className:"h3 mb-0 text-gray-800"},n.createElement("i",{className:"bi bi-graph-up text-primary me-2"}),"График ",(e=>e.includes("BTC")?"Bitcoin (BTC)":e.includes("ETH")?"Ethereum (ETH)":e.includes("BNB")?"Binance Coin (BNB)":e.includes("ADA")?"Cardano (ADA)":e.includes("SOL")?"Solana (SOL)":e.replace("-","/"))(e)),n.createElement("p",{className:"text-muted mb-0"},"Анализ ценовых движений в реальном времени")),n.createElement("div",null,n.createElement("div",{className:"btn-group me-3",role:"group"},n.createElement("button",{className:"btn btn-sm "+("1m"===a?"btn-primary":"btn-outline-primary"),onClick:()=>l("1m")},"1м"),n.createElement("button",{className:"btn btn-sm "+("5m"===a?"btn-primary":"btn-outline-primary"),onClick:()=>l("5m")},"5м"),n.createElement("button",{className:"btn btn-sm "+("1h"===a?"btn-primary":"btn-outline-primary"),onClick:()=>l("1h")},"1ч"),n.createElement("button",{className:"btn btn-sm "+("1d"===a?"btn-primary":"btn-outline-primary"),onClick:()=>l("1d")},"1д")),n.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:d,disabled:m},n.createElement("i",{className:"bi bi-arrow-clockwise me-1"}),m?"Обновление...":"Обновить"))))),n.createElement("div",{className:"row"},n.createElement("div",{className:"col-12"},n.createElement("div",{className:"card shadow-sm border-0"},n.createElement("div",{className:"card-body"},m?n.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"400px"}},n.createElement("div",{className:"loading-spinner"}),n.createElement("span",{className:"ms-2"},"Загрузка данных...")):r?n.createElement("div",{className:"chart-container",style:{height:"400px"}},n.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},n.createElement("div",{className:"text-center"},n.createElement("i",{className:"bi bi-graph-up display-1 text-muted"}),n.createElement("h5",{className:"mt-3 text-muted"},"График будет добавлен в следующих обновлениях"),n.createElement("p",{className:"text-muted"},"Данные загружены: ",r.timestamps?.length||0," точек"),r.prices&&r.prices.length>0&&n.createElement("div",{className:"mt-3"},n.createElement("span",{className:"badge bg-primary fs-6"},"Последняя цена: $",r.prices[r.prices.length-1]))))):n.createElement("div",{className:"d-flex justify-content-center align-items-center",style:{height:"400px"}},n.createElement("div",{className:"text-center"},n.createElement("i",{className:"bi bi-exclamation-circle display-1 text-warning"}),n.createElement("h5",{className:"mt-3 text-muted"},"Нет данных для отображения"))))))),n.createElement("div",{className:"row mt-4"},n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"card shadow-sm border-0"},n.createElement("div",{className:"card-header bg-white border-0"},n.createElement("h6",{className:"mb-0"},n.createElement("i",{className:"bi bi-gear me-2"}),"Настройки графика")),n.createElement("div",{className:"card-body"},n.createElement("div",{className:"mb-3"},n.createElement("label",{className:"form-label"},"Криптовалюта"),n.createElement("select",{className:"form-select",value:e,onChange:e=>t(e.target.value)},n.createElement("option",{value:"BTC-USD"},"Bitcoin (BTC/USD)"),n.createElement("option",{value:"ETH-USD"},"Ethereum (ETH/USD)"),n.createElement("option",{value:"BNB-USD"},"Binance Coin (BNB/USD)"),n.createElement("option",{value:"ADA-USD"},"Cardano (ADA/USD)"),n.createElement("option",{value:"SOL-USD"},"Solana (SOL/USD)"))),n.createElement("div",{className:"mb-3"},n.createElement("label",{className:"form-label"},"Временной интервал"),n.createElement("select",{className:"form-select",value:a,onChange:e=>l(e.target.value)},n.createElement("option",{value:"1m"},"1 минута"),n.createElement("option",{value:"5m"},"5 минут"),n.createElement("option",{value:"15m"},"15 минут"),n.createElement("option",{value:"1h"},"1 час"),n.createElement("option",{value:"4h"},"4 часа"),n.createElement("option",{value:"1d"},"1 день")))))),n.createElement("div",{className:"col-md-6"},n.createElement("div",{className:"card shadow-sm border-0"},n.createElement("div",{className:"card-header bg-white border-0"},n.createElement("h6",{className:"mb-0"},n.createElement("i",{className:"bi bi-info-circle me-2"}),"Информация")),n.createElement("div",{className:"card-body"},n.createElement("div",{className:"row"},n.createElement("div",{className:"col-6"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"text-muted small"},"Текущая цена"),n.createElement("div",{className:"h5 mb-0"},r?.prices?.length>0?`$${r.prices[r.prices.length-1]}`:"--"))),n.createElement("div",{className:"col-6"},n.createElement("div",{className:"text-center"},n.createElement("div",{className:"text-muted small"},"Точек данных"),n.createElement("div",{className:"h5 mb-0"},r?.timestamps?.length||0)))),n.createElement("div",{className:"mt-3"},n.createElement("small",{className:"text-muted"},"Последнее обновление: ",(new Date).toLocaleTimeString())))))))};document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("react-chart");e&&l.createRoot(e).render(n.createElement(r,null))})}},a={};function n(e){var l=a[e];if(void 0!==l)return l.exports;var r=a[e]={id:e,exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=function(t,a,l,r){if(!a){var c=1/0;for(o=0;o<e.length;o++){a=e[o][0],l=e[o][1],r=e[o][2];for(var m=!0,s=0;s<a.length;s++)(!1&r||c>=r)&&Object.keys(n.O).every(function(e){return n.O[e](a[s])})?a.splice(s--,1):(m=!1,r<c&&(c=r));if(m){e.splice(o--,1);var i=l();void 0!==i&&(t=i)}}return t}r=r||0;for(var o=e.length;o>0&&e[o-1][2]>r;o--)e[o]=e[o-1];e[o]=[a,l,r]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=65,function(){n.b=document.baseURI||self.location.href;var e={65:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,r,c=a[0],m=a[1],s=a[2],i=0;if(c.some(function(t){return 0!==e[t]})){for(l in m)n.o(m,l)&&(n.m[l]=m[l]);if(s)var o=s(n)}for(t&&t(a);i<c.length;i++)r=c[i],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(o)},a=self.webpackChunkcrypto_analysis_system=self.webpackChunkcrypto_analysis_system||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}(),n.nc=void 0;var l=n.O(void 0,[96],function(){return n(1365)});l=n.O(l)}();
//# sourceMappingURL=chart.js.map